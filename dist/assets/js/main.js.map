{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/@vimeo/player/dist/player.min.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/process/browser.js","webpack:///./src/modules/CONFIG.js","webpack:///./src/modules/Text.js","webpack:///./src/modules/Video.js","webpack:///./src/modules/Stage.js","webpack:///./src/modules/CreditsStage.js","webpack:///./src/main.js"],"names":["CONFIG","BREAKPOINT","Text","_$ele","_duration","TYPE","$ele","$content","querySelector","duration","timerStep","progressStep","timer","progress","time","fadeThreshold","isPlaying","isActive","deactivateTime","deactivateTimer","addEventListener","e","window","innerWidth","pauseAndAutoResume","deltaY","step","passive","activate","play","classList","add","deactivate","clearTimeout","pause","remove","setTimeout","_onComplete","onComplete","_onProgress","onProgress","clearInterval","setInterval","_delay","delay","restartTimer","togglePlay","update","style","opacity","Video","$overlay","dataset","video_length","muted","volume","scrollProgress","vimeo","VimeoPlayer","id","vimeo_id","width","autoplay","controls","autopause","getDuration","then","_onScrollUp","isPreactivating","preactivate","_callback","console","log","setCurrentTime","onScrollUp","unmute","mute","setVolume","fadeIn","_time","callback","fadeLoop","change","fadeOut","on","t","seconds","Stage","_opts","opts","Object","assign","textDuration","text","video","$progress","current","_onChangeCurrent","length","textProp","videoProp","onChangeCurrent","CreditsStage","$credits","$credits_contents","isAuto","autoScrollStep","type","stopAuto","setAuto","scrollTop","scrollHeight","offsetHeight","navSetActive","$stage_titles","forEach","$title","currentStageIndex","document","querySelectorAll","textDurations","stages","map","s","i","push","stage","index","showHideControls","preventDefault","body","which","$fullscreen_btn","$fullscreen_label","event","fullscreenElement","innerText","requestFullscreen","navigationUI","err","exitFullscreen","controlTimeout","controlsHidden","hideControls","indicator","showControls"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACnBA;AACA,eAAe,KAAoD,oBAAoB,SAAkG,CAAC,iBAAiB,aAAa,gBAAgB,YAAY,WAAW,KAAK,WAAW,+GAA+G,wDAAwD,uBAAuB,gBAAgB,2HAA2H,cAAc,mEAAmE,aAAa,iEAAiE,uBAAuB,qIAAqI,iGAAiG,2CAA2C,qEAAqE,+DAA+D,iGAAiG,+FAA+F,2GAA2G,aAAa,eAAe,wDAAwD,iDAAiD,oCAAoC,UAAU,qBAAqB,aAAa,2EAA2E,wHAAwH,gBAAgB,sGAAsG,aAAa,6CAA6C,0CAA0C,mCAAmC,kBAAkB,+CAA+C,kCAAkC,uBAAuB,kBAAkB,gCAAgC,kCAAkC,gCAAgC,kBAAkB,sBAAsB,oCAAoC,iFAAiF,kBAAkB,mDAAmD,wBAAwB,GAAG,cAAc,sBAAsB,oEAAoE,qBAAqB,UAAU,aAAa,qFAAqF,uBAAuB,YAAY,IAAI,wBAAwB,OAAO,sBAAsB,kCAAkC,wCAAwC,GAAG,SAAS,kBAAkB,iBAAiB,gBAAgB,6BAA6B,cAAc,iBAAiB,+EAA+E,aAAa,YAAY,oBAAoB,qFAAqF,oBAAoB,kBAAkB,QAAQ,IAAI,uKAAuK,SAAS,aAAa,cAAc,WAAW,0FAA0F,oBAAoB,YAAY,WAAW,iBAAiB,iCAAiC,OAAO,IAAI,IAAI,cAAc,6BAA6B,cAAc,4EAA4E,cAAc,0DAA0D,qDAAqD,eAAe,kBAAkB,wBAAwB,OAAO,iEAAiE,oDAAoD,gFAAgF,uBAAuB,gDAAgD,wBAAwB,4BAA4B,IAAI,0BAA0B,eAAe,aAAa,iBAAiB,gCAAgC,IAAI,sBAAsB,eAAe,IAAI,oBAAoB,qBAAqB,YAAY,qBAAqB,EAAE,SAAS,aAAa,+CAA+C,SAAS,qBAAqB,YAAY,aAAa,YAAY,EAAE,SAAS,aAAa,aAAa,UAAU,gBAAgB,uCAAuC,OAAO,kBAAkB,yCAAyC,kBAAkB,QAAQ,iBAAiB,EAAE,8BAA8B,GAAG,UAAU,qBAAqB,iEAAiE,qEAAqE,gFAAgF,KAAK,EAAE,2BAA2B,8BAA8B,gFAAgF,KAAK,EAAE,wBAAwB,WAAW,qHAAqH,gFAAgF,8BAA8B,oBAAoB,qBAAqB,IAAI,EAAE,yBAAyB,WAAW,0FAA0F,gFAAgF,oBAAoB,KAAK,IAAI,EAAE,IAAI,0DAA0D,IAAI,WAAW,qCAAqC,kBAAkB,2BAA2B,kDAAkD,gBAAgB,2BAA2B,SAAS,kBAAkB,2BAA2B,kBAAkB,2CAA2C,sBAAsB,wEAAwE,gOAAgO,cAAc,gEAAgE,8BAA8B,8CAA8C,uCAAuC,IAAI,gBAAgB,aAAa,yDAAyD,oFAAoF,oCAAoC,2HAA2H,cAAc,+DAA+D,0CAA0C,iCAAiC,wEAAwE,6EAA6E,4FAA4F,sEAAsE,uCAAuC,wCAAwC,iCAAiC,oGAAoG,KAAK,SAAS,KAAK,wDAAwD,oDAAoD,sBAAsB,4CAA4C,oFAAoF,UAAU,EAAE,cAAc,0BAA0B,gBAAgB,SAAS,0BAA0B,SAAS,kBAAkB,iEAAiE,OAAO,UAAU,wBAAwB,qFAAqF,mFAAmF,gBAAgB,WAAW,mBAAmB,4DAA4D,gCAAgC,oDAAoD,EAAE,yCAAyC,kBAAkB,oBAAoB,aAAa,uBAAuB,gBAAgB,kBAAkB,aAAa,yBAAyB,sBAAsB,IAAI,gDAAgD,aAAa,WAAW,EAAE,kDAAkD,mBAAmB,yEAAyE,iBAAiB,8EAA8E,2bAA2b,kCAAkC,0BAA0B,gCAAgC,SAAS,0HAA0H,4BAA4B,+BAA+B,0BAA0B,kBAAkB,oDAAoD,oCAAoC,gBAAgB,0DAA0D,gCAAgC,oCAAoC,kDAAkD,oEAAoE,SAAS,oIAAoI,aAAa,6BAA6B,mBAAmB,uGAAuG,YAAY,EAAE,oGAAoG,UAAU,qBAAqB,mCAAmC,uEAAuE,2BAA2B,iCAAiC,OAAO,mBAAmB,WAAW,WAAW,GAAG,EAAE,4BAA4B,WAAW,2BAA2B,8CAA8C,OAAO,mBAAmB,SAAS,WAAW,GAAG,EAAE,8BAA8B,WAAW,2BAA2B,6EAA6E,iCAAiC,OAAO,mBAAmB,WAAW,WAAW,GAAG,EAAE,6BAA6B,0DAA0D,gEAAgE,gFAAgF,+FAA+F,gCAAgC,EAAE,8BAA8B,0DAA0D,mFAAmF,0FAA0F,GAAG,EAAE,kCAAkC,uCAAuC,EAAE,6BAA6B,uCAAuC,mDAAmD,EAAE,qBAAqB,EAAE,oCAAoC,gEAAgE,sCAAsC,cAAc,GAAG,EAAE,uCAAuC,4CAA4C,EAAE,0CAA0C,uDAAuD,0CAA0C,kBAAkB,GAAG,EAAE,wCAAwC,4CAA4C,EAAE,6BAA6B,iCAAiC,EAAE,4BAA4B,gCAAgC,EAAE,8BAA8B,kCAAkC,EAAE,+BAA+B,WAAW,yBAAyB,gQAAgQ,GAAG,EAAE,oCAAoC,8BAA8B,EAAE,qCAAqC,gCAAgC,EAAE,mCAAmC,6BAA6B,EAAE,gCAAgC,0BAA0B,EAAE,iCAAiC,4BAA4B,EAAE,oCAAoC,8BAA8B,EAAE,sCAAsC,gCAAgC,EAAE,uCAAuC,kCAAkC,EAAE,mCAAmC,6BAA6B,EAAE,gCAAgC,0BAA0B,EAAE,+BAA+B,yBAAyB,EAAE,gCAAgC,2BAA2B,EAAE,iCAAiC,4BAA4B,EAAE,gCAAgC,0BAA0B,EAAE,iCAAiC,2BAA2B,EAAE,uCAAuC,iCAAiC,EAAE,wCAAwC,mCAAmC,EAAE,iCAAiC,2BAA2B,EAAE,mCAAmC,6BAA6B,EAAE,kCAAkC,4BAA4B,EAAE,qCAAqC,+BAA+B,EAAE,yCAAyC,mCAAmC,EAAE,kCAAkC,4BAA4B,EAAE,qCAAqC,+BAA+B,EAAE,qCAAqC,+BAA+B,EAAE,sCAAsC,gCAAgC,EAAE,mCAAmC,6BAA6B,EAAE,iCAAiC,2BAA2B,EAAE,kCAAkC,6BAA6B,sCAAsC,GAAG,sBAAsB,6JAA6J,sGAAsG,sBAAsB,IAAI,oDAAoD,WAAW,6BAA6B,cAAc,WAAW,SAAS,MAAM,EAAE,cAAc,sEAAsE,qCAAqC,mCAAmC,kBAAkB,gGAAgG,WAAW,sCAAsC,6EAA6E,QAAQ,uHAAuH,WAAW;;;;;;;;ACDl6f;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,mBAAO,CAAC,CAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9DA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;ACzLD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AA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","file":"./assets/js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*! @vimeo/player v2.10.0 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):((e=e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return/^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(e)}function l(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,o=n||r;if(!o)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(e=o,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return\"https://vimeo.com/\".concat(o);if(s(o))return o.replace(\"http:\",\"https:\");if(n)throw new TypeError(\"“\".concat(n,\"” is not a valid video id.\"));throw new TypeError(\"“\".concat(o,\"” is not a vimeo.com url.\"))}var t=void 0!==Array.prototype.indexOf,n=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var o=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};!function(e){if(!e.WeakMap){var n=Object.prototype.hasOwnProperty,o=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError(\"Constructor WeakMap requires 'new'\");if(o(this,\"_id\",\"_WeakMap\"+\"_\"+t()+\".\"+t()),0<arguments.length)throw new TypeError(\"WeakMap iterable is not supported\")}function r(e,t){if(!i(e)||!n.call(e,\"_id\"))throw new TypeError(t+\" method called on incompatible receiver \"+typeof e)}function t(){return Math.random().toString().substring(2)}return o(e.prototype,\"delete\",function(e){if(r(this,\"delete\"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),o(e.prototype,\"get\",function(e){if(r(this,\"get\"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),o(e.prototype,\"has\",function(e){if(r(this,\"has\"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),o(e.prototype,\"set\",function(e,t){if(r(this,\"set\"),!i(e))throw new TypeError(\"Invalid value used as weak map key\");var n=e[this._id];return n&&n[0]===e?n[1]=t:o(e,this._id,[e,t]),this}),o(e,\"_polyfill\",!0),e}()}function i(e){return Object(e)===e}}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:o);var a,f=(function(e){var t,n,r;r=function(){var t,a,n,e=Object.prototype.toString,r=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function i(e,t){n.add(e,t),a||(a=r(n.drain))}function u(e){var t,n=typeof e;return null==e||\"object\"!=n&&\"function\"!=n||(t=e.then),\"function\"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError(\"Promise-chain cycle\")):(o=u(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function s(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&i(c,t))}function l(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function f(e){this.def=e,this.triggered=!1}function d(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new d(this);this.then=function(e,t){var n={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&i(c,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(n){var r,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(r=u(n))?i(function(){var t=new f(o);try{r.call(n,function(){e.apply(t,arguments)},function(){s.apply(t,arguments)})}catch(e){s.call(t,e)}}):(o.msg=n,o.state=1,0<o.chain.length&&i(c,o))}catch(e){s.call(new f(o),e)}}}).call(r,e)},function(e){s.call(r,e)})}catch(e){s.call(r,e)}}n=function(){var n,r,o;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(e,t){o=new i(e,t),r?r.next=o:n=o,r=o,o=void 0},drain:function(){var e=n;for(n=r=a=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=t({},\"constructor\",h,!1);return t(h.prototype=v,\"__NPO__\",0,!1),t(h,\"resolve\",function(n){return n&&\"object\"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");e(n)})}),t(h,\"reject\",function(n){return new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(n)})}),t(h,\"all\",function(t){var a=this;return\"[object Array]\"!=e.call(t)?a.reject(TypeError(\"Not an array\")):0===t.length?a.resolve([]):new a(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");var r=t.length,o=Array(r),i=0;l(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(h,\"race\",function(t){var r=this;return\"[object Array]\"!=e.call(t)?r.reject(TypeError(\"Not an array\")):new r(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");l(r,t,function(e,t){n(t)},e)})}),h},(n=o)[t=\"Promise\"]=n[t]||r(),e.exports&&(e.exports=n[t])}(a={exports:{}},a.exports),a.exports),d=new WeakMap;function u(e,t,n){var r=d.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),d.set(e.element,r)}function c(e,t){return(d.get(e.element)||{})[t]||[]}function h(e,t,n){var r=d.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],d.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),d.set(e.element,r),r[t]&&0===r[t].length}var v=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"controls\",\"dnt\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"texttrack\",\"title\",\"transparent\",\"url\",\"width\"];function p(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return v.reduce(function(e,t){var n=r.getAttribute(\"data-vimeo-\".concat(t));return(n||\"\"===n)&&(e[t]=\"\"===n?1:n),e},e)}function y(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function m(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=2<arguments.length?arguments[2]:void 0;return new Promise(function(t,n){if(!s(i))throw new TypeError(\"“\".concat(i,\"” is not a vimeo.com url.\"));var e=\"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(i));for(var r in a)a.hasOwnProperty(r)&&(e+=\"&\".concat(r,\"=\").concat(encodeURIComponent(a[r])));var o=\"XDomainRequest\"in window?new XDomainRequest:new XMLHttpRequest;o.open(\"GET\",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return y(e,u),void n(new Error(\"“\".concat(i,\"” is not embeddable.\")));t(e)}catch(e){n(e)}else n(new Error(\"“\".concat(i,\"” is not embeddable.\")));else n(new Error(\"“\".concat(i,\"” was not found.\")))},o.onerror=function(){var e=o.status?\" (\".concat(o.status,\")\"):\"\";n(new Error(\"There was an error fetching the embed code from Vimeo\".concat(e,\".\")))},o.send()})}function g(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function w(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\"));8<=o&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function b(n,r){var t,e=[];if((r=g(r)).event){if(\"error\"===r.event)c(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),h(n,r.data.method,e)});e=c(n,\"event:\".concat(r.event)),t=r.data}else if(r.method){var o=function(e,t){var n=c(e,t);if(n.length<1)return!1;var r=n.shift();return h(e,t,r),r}(n,r.method);o&&(e.push(o),t=r.value)}e.forEach(function(e){try{if(\"function\"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var k=new WeakMap,E=new WeakMap,Player=function(){function Player(u){var e,c=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),u=u[0]),\"undefined\"!=typeof document&&\"string\"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&\"nodeName\"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError(\"You must pass either a valid element or a valid id.\");var r=u.ownerDocument.defaultView;if(\"IFRAME\"!==u.nodeName){var t=u.querySelector(\"iframe\");t&&(u=t)}if(\"IFRAME\"===u.nodeName&&!s(u.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn’t a Vimeo embed.\");if(k.has(u))return k.get(u);this.element=u,this.origin=\"*\";var o=new f(function(i,a){var e=function(e){if(s(e.origin)&&c.element.contentWindow===e.source){\"*\"===c.origin&&(c.origin=e.origin);var t=g(e.data);if(t&&\"error\"===t.event&&t.data&&\"ready\"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&\"ready\"===t.event,o=t&&\"ping\"===t.method;if(r||o)return c.element.setAttribute(\"data-ready\",\"true\"),void i();b(c,t)}};if(r.addEventListener?r.addEventListener(\"message\",e,!1):r.attachEvent&&r.attachEvent(\"onmessage\",e),\"IFRAME\"!==c.element.nodeName){var t=p(u,n);m(l(t),t,u).then(function(e){var t,n,r,o=y(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=d.get(t),d.set(n,r),d.delete(t),k.set(c.element,c),e}).catch(a)}});return E.set(this,o),k.set(this.element,this),\"IFRAME\"===this.element.nodeName&&w(this,\"ping\"),this}var e,t,n;return e=Player,(t=[{key:\"callMethod\",value:function(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new f(function(e,t){return r.ready().then(function(){u(r,n,{resolve:e,reject:t}),w(r,n,o)}).catch(t)})}},{key:\"get\",value:function(n){var r=this;return new f(function(e,t){return n=i(n,\"get\"),r.ready().then(function(){u(r,n,{resolve:e,reject:t}),w(r,n)}).catch(t)})}},{key:\"set\",value:function(n,r){var o=this;return new f(function(e,t){if(n=i(n,\"set\"),null==r)throw new TypeError(\"There must be a value to set.\");return o.ready().then(function(){u(o,n,{resolve:e,reject:t}),w(o,n,r)}).catch(t)})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===c(this,\"event:\".concat(e)).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),u(this,\"event:\".concat(e),t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");h(this,\"event:\".concat(e),t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=E.get(this)||new f(function(e,t){t(new Error(\"Unknown player. Probably unloaded.\"))});return f.resolve(e)}},{key:\"addCuePoint\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod(\"addCuePoint\",{time:e,data:t})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var t=this;return new f(function(e){E.delete(t),k.delete(t.element),t._originalElement&&(k.delete(t._originalElement),t._originalElement.removeAttribute(\"data-vimeo-initialized\")),t.element&&\"IFRAME\"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getBuffered\",value:function(){return this.get(\"buffered\")}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"setMuted\",value:function(e){return this.set(\"muted\",e)}},{key:\"getMuted\",value:function(){return this.get(\"muted\")}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getPlayed\",value:function(){return this.get(\"played\")}},{key:\"getSeekable\",value:function(){return this.get(\"seekable\")}},{key:\"getSeeking\",value:function(){return this.get(\"seeking\")}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")),n=function(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \".concat(e))};t.forEach(function(t){try{if(null!==t.getAttribute(\"data-vimeo-defer\"))return;var e=p(t);m(l(e),e,t).then(function(e){return y(e,t)}).catch(n)}catch(e){n(e)}})}(),function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(s(e.origin)&&e.data&&\"spacechange\"===e.data.event)for(var t=r.querySelectorAll(\"iframe\"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom=\"\".concat(e.data.data[0].bottom,\"px\");break}};window.addEventListener?window.addEventListener(\"message\",e,!1):window.attachEvent&&window.attachEvent(\"onmessage\",e)}}()),Player});\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","const CONFIG = {\n  BREAKPOINT: 640\n};\n\nexport default CONFIG;","import CONFIG from './CONFIG.js';\n\nlet Text = function( _$ele, _duration ){\n  this.TYPE = 'text';\n  this.$ele = _$ele;\n  this.$content = this.$ele.querySelector('.screen--content');\n  this.duration = _duration;\n  this.timerStep = 50;\n  this.progressStep = 1 / (this.duration / this.timerStep);\n  this.timer = false;\n  this.progress = 0;\n  this.time = 0;\n  this.fadeThreshold = 0.4;\n  this.isPlaying = false;\n  this.isActive = false;\n  this.deactivateTime = 1500;\n  this.deactivateTimer;\n\n  this.$ele.addEventListener('wheel', ( e ) => {\n    if( this.isActive && window.innerWidth > CONFIG.BREAKPOINT ){\n      this.pauseAndAutoResume( 500 );\n      this.progress += e.deltaY/1000;\n      this.step();\n      this.time = this.progress * this.duration;    \n    }\n  }, \n  {\n    passive: true\n  });\n\n  this.activate = () => {\n    this.isActive = true;\n    this.play();\n    this.$ele.classList.add('active');\n  }\n  this.deactivate = () => {\n    clearTimeout( this.deactivateTimer );\n    this.isActive = false;\n    this.pause();\n    this.$ele.classList.remove('active');\n\n    setTimeout( () => {\n      this.progress = 0;\n      this.time = 0;  \n    }, this.deactivateTime );\n  }\n\n  this._onComplete = () => {\n    if( typeof( this.onComplete === 'function') ){\n      this.onComplete();\n    }\n  }\n\n  this._onProgress = () => {\n    if( typeof this.onProgress === 'function' ){\n      this.onProgress();\n    }\n  }\n\n  this.pause = () => {\n    this.isPlaying = false;\n    clearInterval( this.timer );\n  }\n  \n  this.play = () => {\n    clearInterval( this.timer );\n    this.isPlaying = true;\n    this.timer = setInterval( () => {\n      this.progress += this.progressStep;   \n      this.time += this.timerStep;   \n      this.step();\n    }, this.timerStep );\n  }\n\n  this.pauseAndAutoResume = ( _delay ) => {\n    let delay = _delay || 500;\n    if( this.isPlaying ){\n      this.pause();\n      clearInterval(this.restartTimer);\n      this.restartTimer = setInterval( () => {\n        this.play();\n      }, delay );\n    }\n  }\n\n  this.togglePlay = () => {\n    if( this.isPlaying ){\n      this.pause();\n    } else {\n      this.play();\n    }\n  }\n\n  this.step = () => {\n    if( this.progress < 0 ){\n      this.progress = 0;\n    }\n    if( this.progress >= 1 ){\n      this.progress = 1;\n      clearInterval( this.timer );\n      clearInterval(this.restartTimer);\n      this._onComplete();\n    }\n    this._onProgress();\n    this.update();\n  }\n\n  this.update = () => {\n    if( this.progress > this.fadeThreshold  ){\n      this.$content.style.opacity = ((1 - this.fadeThreshold) - (this.progress - this.fadeThreshold)) * (1/(1-this.fadeThreshold));\n    } else {\n      this.$content.style.opacity = 1;\n    }    \n  }\n}\n\nexport default Text;","import * as VimeoPlayer from \"@vimeo/player/dist/player.min.js\" ;\nimport CONFIG from './CONFIG.js';\n\nlet Video = function( _$ele ){\n  this.TYPE = 'video';\n  this.$ele = _$ele;\n  this.$content = this.$ele.querySelector('.screen--content');\n  this.$overlay = this.$ele.querySelector('.video-overlay');\n  this.duration = this.$content.dataset.video_length;    \n  this.progress = 0;\n  this.time = 0;\n  this.muted = true;\n  this.volume = 1;\n  this.scrollProgress = 0.5;\n  this.isActive = false;\n\n  this.isPlaying = false;\n  this.vimeo = new VimeoPlayer( \n    this.$content, \n    {\n      id: this.$content.dataset.vimeo_id,\n      width: window.innerWidth,\n      autoplay: false,\n      controls: false,\n      autopause: true\n    } \n  );\n  this.vimeo.getDuration().then( duration => this.duration = duration * 1000 );\n  this.$content = this.$ele.querySelector('.screen--content');\n  \n  this.$ele.addEventListener( 'wheel', ( e ) => {\n    if( this.isActive && window.innerWidth > CONFIG.BREAKPOINT ){      \n      this.scrollProgress += e.deltaY/1000;\n      if( this.scrollProgress > 1 ){\n        this.scrollProgress = 1;\n      }\n      if( this.scrollProgress < 0 ){\n        this.scrollProgress = 0;\n        this._onScrollUp();\n      }\n    }\n  }, \n  {\n    passive: true\n  });\n\n  this.isPreactivating = false;\n  this.preactivate = ( _callback ) => {\n    this.isPreactivating = true;\n    console.log('preactivate')\n    this.vimeo.play().then( () => {      \n      if(this.isPreactivating){\n        console.log( 'preactivated' );\n        this.vimeo.pause();\n        if( typeof _callback === 'function' ){\n          _callback();\n        };\n      }\n    });\n  }\n\n  this.activate = () => {\n    this.isPreactivating = false;\n    this.volume = 1;\n    this.isActive = true;\n    this.play();\n    this.$ele.classList.add('active');\n  }\n  this.deactivate = () => {\n    this.isActive = false;\n    this.pause();\n    this.progress = 0;\n    this.time = 0;\n    this.vimeo.setCurrentTime(1);\n    this.$ele.classList.remove('active');\n  }\n\n  this._onComplete = () => {\n    if( typeof( this.onComplete === 'function') ){\n      this.onComplete();\n    }\n  }\n  this._onScrollUp = () => {\n    if( typeof( this.onScrollUp === 'function') ){\n      this.onScrollUp();\n    }\n  }\n\n  this._onProgress = () => {\n    if( typeof this.onProgress === 'function' ){\n      this.onProgress();\n    }\n  }\n  \n  this.play = () => {\n    console.log('video play')\n    this.isPreactivating = false;\n    this.isPlaying = true;\n    this.$content.classList.add('playing');\n    this.vimeo.play();\n    this.unmute();\n  }\n  \n  this.pause = () => {\n    console.log('video pause')\n    this.isPlaying = false;\n    this.$content.classList.remove('playing');\n    this.vimeo.pause();\n  }\n\n  this.togglePlay = () => {\n    if( this.isPlaying ){\n      this.pause();\n    } else {\n      this.play();\n    }\n  }\n\n  this.mute = () => {\n    this.muted = true;\n    this.vimeo.setVolume( 0 );\n  }\n  \n  this.unmute = () => {\n    this.muted = false;\n    this.vimeo.setVolume( this.volume );\n  }\n\n  this.fadeIn = ( _time, _callback ) => {  \n    let time = _time || 100;\n    let callback = _callback || function(){};\n    clearInterval( this.fadeLoop );\n    let change = 1 - this.volume;\n    let step = change / (time / 10);\n    this.fadeLoop = setInterval(() => {\n      this.volume += step;\n      if( this.volume >= 1 ){\n        this.volume = 1; \n        callback();\n        clearInterval( this.fadeLoop );\n      }    \n      if( !this.muted ){\n        this.vimeo.setVolume( this.volume );\n      }\n    }, 10 );\n  };\n\n  this.fadeOut = ( _time, _callback ) => {  \n    let time = _time || 100;\n    let callback = _callback || function(){};  \n    clearInterval( this.fadeLoop );\n    let change = -this.volume;\n    let step = change / (time / 10);  \n    this.fadeLoop = setInterval(() => {\n      this.volume += step;\n      if( this.volume <= 0 ){\n        this.volume = 0; \n        callback();\n        clearInterval( this.fadeLoop );\n      }\n      if( !this.muted ){\n        this.vimeo.setVolume( this.volume );\n      }\n    }, 10 );\n  };\n\n  this.vimeo.on('timeupdate', ( t ) => {\n    this.time = t.seconds * 1000;\n    this.progress = t.seconds / t.duration;\n    this.duration = t.duration * 1000;\n    \n    this._onProgress();\n    if( t.seconds >= t.duration - 2 ){\n      this._onComplete();\n    }\n  });\n\n  this.$overlay.addEventListener('click', () => {\n    this.volume = 1;\n    this.unmute();\n    this.togglePlay();\n  });\n}\n\nexport default Video;","import Text from './Text.js';\nimport Video from './Video.js';\n\nlet Stage = function( _$ele, _opts ){\n  this.$ele = _$ele;\n  this.opts = Object.assign({\n    textDuration: 15000\n  }, _opts ); \n  this.isActive = false;\n  this.text = new Text( this.$ele.querySelector('.screen__text'), this.opts.textDuration );\n  this.video = new Video( this.$ele.querySelector('.screen__video') );\n  this.progress = 0;\n  this.$progress = this.$ele.querySelector('.progress--indicator');\n  this.current = this.text;\n\n  this.text.onComplete = () => {\n    this.text.deactivate();\n    this.current = this.video;    \n    this.video.activate();\n    this._onChangeCurrent();\n  }\n\n  this.video.onComplete = () => {\n    this.deactivate();\n    this.current = this.text;\n    this._onComplete();\n    this._onChangeCurrent();\n  }\n\n  this.video.onScrollUp = () => {\n    this.video.deactivate();\n    this.video.fadeOut( 1500, () => {\n      this.current = this.text;\n      this.text.activate();\n      this._onChangeCurrent();\n    });    \n  }\n\n  this.text.onProgress = () => {\n    let length = this.text.duration + this.video.duration;\n    this.progress = this.text.time / length;\n    this.update();\n  }\n  this.video.onProgress = () => {\n    let length = this.text.duration + this.video.duration;\n    let textProp = this.text.duration / length;\n    let videoProp = this.video.time / length;\n    this.progress = textProp + videoProp;\n    this.update();\n  }\n\n  this.activate = () => {\n    this.current = this.text;\n    this.$ele.classList.add('active');\n    this.text.activate();\n    this.video.preactivate( () => {\n      this.video.deactivate();\n    });\n  }\n  this.deactivate = () => {\n    this.$ele.classList.remove('active');\n    this.text.deactivate();\n    this.video.deactivate()    \n  }\n\n  this._onComplete = () => {\n    if( typeof this.onComplete === 'function' ){\n      this.onComplete();\n    }\n  }\n\n  this._onChangeCurrent = () => {\n    if( typeof this.onChangeCurrent === 'function' ){\n      this.onChangeCurrent();\n    }\n  }\n\n  this.update = () => {\n    this.$progress.style.width = this.progress * 100 + '%';\n  }\n};\n\nexport default Stage;","let CreditsStage = function( _$ele ){\n  this.$ele = _$ele;\n  this.$credits = this.$ele.querySelector('.screen');\n  this.$credits_contents = this.$credits.querySelector('.screen--content');\n  this.$progress = this.$ele.querySelector('.progress--indicator');\n  this.progress = 0;\n  this.isAuto = true;\n  this.autoScrollStep = 1;\n  this.timer;\n  this.current = {\n    type: 'credits',\n    togglePlay: () => {\n      if( this.isAuto ){\n        this.stopAuto();\n      } else {\n        this.setAuto();\n      }\n    }\n  };\n\n  this.$credits.scrollTop = 0;\n\n  this.setAuto = () => {\n    this.isAuto = true;\n    clearInterval( this.timer );\n    this.timer = setInterval( () => {\n      if( this.isAuto ){\n        this.$credits.scrollTop += this.autoScrollStep;\n      }\n    }, 100 );\n  };\n\n  this.stopAuto = () => {\n    this.isAuto = false;\n    clearInterval( this.timer );\n  }\n\n  this.$credits.addEventListener('scroll', (e) => {\n    this.progress = this.$credits.scrollTop / (this.$credits.scrollHeight - this.$credits.offsetHeight);\n    this.update();\n  })\n\n  this.activate = () => {\n    this.$credits.scrollTop = 0;\n    this.setAuto();\n    this.$credits.classList.add('active');\n    this.$ele.classList.add('active');\n  }\n  this.deactivate = () => {\n    this.stopAuto();\n    this.$credits.classList.remove('active');\n    this.$ele.classList.remove('active');\n  }\n\n  this.update = () => {\n    this.$progress.style.width = this.progress * 100 + '%';\n  }\n\n  this.update();\n};\n\nexport default CreditsStage;","import Stage from './modules/Stage.js';\nimport CreditsStage from './modules/CreditsStage.js';\n\nlet navSetActive = function(){\n  $stage_titles.forEach( ( $title ) => {\n    $title.querySelector('a').classList.remove('current');\n  });\n  $stage_titles[currentStageIndex].querySelector('a').classList.add('current');\n};\n\nlet $progress = document.querySelector('.progress');\nlet $stage_titles = $progress.querySelectorAll('.progress--stage');\nlet currentStageIndex = -1;\nlet textDurations = [14000, 15000, 15000];\nlet stages = [ ... document.querySelectorAll('.stage__excerpt') ]\n              .map( (s, i) => { \n                return new Stage(\n                  s, \n                  { \n                    textDuration: textDurations[i]\n                  } \n                ) \n              });\nstages.push( new CreditsStage( document.querySelector('.stage__credits')) );\n\nstages.forEach( ( stage, index ) => {\n  stage.onComplete = () => {\n    if( typeof stages[index + 1] !== 'undefined' ){\n      stages[index].deactivate();\n      stages[index+1].activate();\n      currentStageIndex = index + 1;    \n      navSetActive();  \n    }\n  }\n  stage.onChangeCurrent = () => {\n    showHideControls();\n  }\n})\n\n$stage_titles.forEach( ( $title, index ) => {\n  $title.querySelector('a').addEventListener( 'click', ( e ) => {\n    e.preventDefault();\n    document.body.classList.remove('state__landing');\n    stages.forEach( (stage) => {\n      stage.deactivate();\n    });\n    currentStageIndex = index;\n    stages[index].activate();\n    showHideControls();\n    navSetActive();\n  });\n});\n\ndocument.addEventListener('keyup', ( e ) => {\n  if( e.which === 32 ){\n    stages[currentStageIndex].current.togglePlay();\n  }\n})\n\nlet $fullscreen_btn = document.querySelector('.control__fullscreen');\nlet $fullscreen_label = $fullscreen_btn.querySelector('.control--label');\n\ndocument.addEventListener('fullscreenchange', (event) => {\n  if (document.fullscreenElement) {\n    document.body.classList.add('state__fullscreen');\n    $fullscreen_btn .classList.add('state__fullscreen-active');\n    $fullscreen_label.innerText = 'exit fullscreen';\n  } else {\n    document.body.classList.remove('state__fullscreen');\n    $fullscreen_btn.classList.remove('state__fullscreen-active');\n    $fullscreen_label.innerText = 'fullscreen';\n  }\n});\n$fullscreen_btn.addEventListener( 'click', () => {\n  if (!document.fullscreenElement) {\n    document.querySelector('.site-wrap')\n      .requestFullscreen({ navigationUI: \"hide\" })        \n      .catch( ( err ) => {\n        console.log('Could not enter fullscreen');\n      });       \n  } else {\n    document.exitFullscreen();\n  }\n});\n\n\nlet controlTimeout;\nlet controlsHidden = false;\nlet hideControls = function(){\n  clearTimeout( controlTimeout );\n  controlTimeout = setTimeout( () => {\n    document.body.classList.add('state__hide-controls');\n    document.querySelector('.progress--bar').classList.add('state__hidden');\n    document.querySelector('.control__fullscreen').classList.add('state__hidden');\n    document.querySelectorAll('.progress--indicator').forEach( indicator => indicator.classList.add('state__hidden') );\n  }, 3000 );\n}\n\nlet showControls = function(){\n  clearTimeout( controlTimeout );\n  document.body.classList.remove('state__hide-controls');\n  document.querySelector('.progress--bar').classList.remove('state__hidden');\n  document.querySelector('.control__fullscreen').classList.remove('state__hidden');\n  document.querySelectorAll('.progress--indicator').forEach( indicator => indicator.classList.remove('state__hidden') );\n}\n\nlet showHideControls = function(){\n  showControls();\n  if( currentStageIndex >= 0 ){\n    if( stages[currentStageIndex].current.TYPE === 'video'){\n      hideControls();\n    }  \n  }\n}\n\ndocument.addEventListener( 'wheel', () => {\n  showHideControls();\n});\n\ndocument.addEventListener( 'mousemove', () => {  \n  showHideControls();\n});"],"sourceRoot":""}